(function(e){function t(t){for(var i,n,o=t[0],l=t[1],h=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,h||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,n=1;n<r.length;n++){var l=r[n];0!==a[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},a={app:0},s=[];function n(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"fd214fdb"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,i){r=a[e]=[t,i]}));t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=n(e);var h=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",h.name="ChunkLoadError",h.type=i,h.request=s,r[1](h)}a[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ludumdaregame/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],h=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=h;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"079d":function(e,t,r){},"0fbf":function(e,t,r){},"18be":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],n=(r("5c0b"),r("2877")),o={},l=Object(n["a"])(o,a,s,!1,null,null,null),h=l.exports,u=(r("d3b7"),r("8c4f")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Game")],1)},d=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game"},[r("canvas",{attrs:{id:"gameCanvas",width:e.windowWidth,height:e.windowHeight},on:{mousedown:function(t){e.orbiterSpeed=.015},mouseup:function(t){e.orbiterSpeed=.005}}}),e.started&&!e.gameOver?r("Score",{staticClass:"score",attrs:{score:e.score,level:e.level,time:e.time,gameOver:e.gameOver}}):e._e(),!e.started||e.gameOver?r("Title",{staticClass:"title",attrs:{time:e.time,gameOver:e.gameOver,score:e.score,scoreThresh:e.levelupScore,started:e.started,level:e.level},on:{play:this.levelup}}):e._e()],1)},f=[],v=(r("cb29"),r("d81d"),r("a434"),r("10c9")),b=r.n(v),p=r("4710"),g=r.n(p),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"score"},[e._v(" Level: "+e._s(e.level+1)+" Score: "+e._s(this.score)+" Time: "+e._s(this.time)+"s ")])},y=[],C=(r("a9e3"),{name:"Score",props:{score:Number,time:Number,level:Number,gameOver:Boolean,msg:String}}),O=C,S=(r("c8a8"),Object(n["a"])(O,w,y,!1,null,"e7755802",null)),_=S.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title"},[r("h1",{staticClass:"header"},[e._v("Ludumdaregame")]),r("div",{staticClass:"main"},[r("div",{staticClass:"info"},[e.levelup||e.gameOver?e._e():r("p",[e._v(" In this game, you are a spaceship orbiting around a star. You have to dodge the fireballs that are being hurtled towards you. To speed up or slow your ship, hold the mouse button. When you dodge 30 fireballs, you will advance to the next level. ")]),e.gameOver&&e.score>=e.scoreThresh?r("p",[e._v(" Great job! You beat level "+e._s(e.level+1)+" in "+e._s(e.time)+" seconds. ")]):e._e(),e.gameOver&&e.score<e.scoreThresh?r("p",[e._v(" Oh no! You lost. You dodged "+e._s(e.score)+"/30 bullets. Try this level again! ")]):e._e()]),r("div",{staticClass:"play",on:{click:e.play}},[e._v(" "+e._s(e.gameOver&&e.score<e.scoreThresh?"Try again":"Play")+" ")]),e._m(0)])])},T=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"github",attrs:{href:"https://github.com/xWafl/ludumdaregame",target:"_blank"}},[r("div",[e._v(" Github ")])])}],M={name:"Title",props:{levelup:Boolean,time:Number,score:Number,level:Number,scoreThresh:Number,gameOver:Boolean,started:Boolean},methods:{play:function(){this.$emit("play",this.started&&this.gameOver)}}},j=M,E=(r("8807"),Object(n["a"])(j,x,T,!1,null,"26fdbcf2",null)),P=E.exports;i["default"].use(b.a);var I={name:"Game",components:{Score:_,Title:P},data:function(){return{timeSteps:{0:1e3,1:500,2:333,3:250,4:150,5:100},levelupSteps:[10,20,30,40,50],currentStep:0,levelupScore:30,width:600,height:600,centerRadius:50,orbiterRadius:100,orbiterWidth:20,orbiterAngle:0,orbiterSpeed:.005,orbiterColor:"steelblue",fireballWidth:20,fireballMovement:10,fireballs:[],fireballColor:"#F80",score:0,time:0,gameOver:!1,flashingCenter:!1,level:localStorage.getItem("level")?JSON.parse(localStorage.getItem("level")):0,started:!1,currentTimeouts:[]}},methods:{distance:function(e,t,r,i){var a=r-e,s=i-t;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))},drawCenter:function(){this.flashingCenter=!1;var e=document.getElementById("gameCanvas"),t=e.getContext("2d"),r=e.width>>1,i=e.height>>1;t.beginPath(),t.arc(r,i,this.centerRadius,0,2*Math.PI,!1),t.fillStyle="#CCC",t.fill(),t.lineWidth=5,t.strokeStyle="#DDD",t.stroke()},flashCenter:function(){this.flashingCenter=!0;var e=document.getElementById("gameCanvas"),t=e.getContext("2d"),r=e.width>>1,i=e.height>>1;t.beginPath(),t.arc(r,i,this.centerRadius,0,2*Math.PI,!1),t.fillStyle="#FFF",t.fill(),t.lineWidth=5,t.strokeStyle="#FFF",t.stroke(),setTimeout(this.drawCenter,100)},drawOrbiter:function(){var e=document.getElementById("gameCanvas"),t=Math.sin(this.orbiterAngle)*this.orbiterRadius+(e.height>>1),r=Math.cos(this.orbiterAngle)*this.orbiterRadius+(e.width>>1);this.drawCircle(r,t,this.orbiterWidth,this.orbiterColor)},drawCircle:function(e,t,r,i){var a=document.getElementById("gameCanvas"),s=a.getContext("2d",{alpha:!1});s.beginPath(),s.arc(e,t,r,0,2*Math.PI,!1),s.fillStyle=i,s.fill(),s.strokeStyle=i,s.stroke()},clearOrbiter:function(){var e=document.getElementById("gameCanvas"),t=Math.sin(this.orbiterAngle)*this.orbiterRadius+(e.height>>1),r=Math.cos(this.orbiterAngle)*this.orbiterRadius+(e.width>>1);this.drawCircle(r,t,this.orbiterWidth+1,"#000")},moveOrbiter:function(){this.clearOrbiter(),this.orbiterAngle+=this.orbiterSpeed,this.drawOrbiter()},doOrbit:function(){!1===this.gameOver&&(this.flashingCenter||this.drawCenter(),this.moveOrbiter(),this.drawFireballs(),this.currentTimeouts.push(setTimeout(this.doOrbit,10)))},incTimer:function(){!1===this.gameOver&&(this.time++,this.time===this.levelupSteps[0]&&(this.levelupSteps.shift(),this.currentStep++),this.currentTimeouts.push(setTimeout(this.incTimer,1e3)))},throwFireball:function(){this.newFireball(),this.currentTimeouts.push(setTimeout(this.throwFireball,this.timeSteps[this.currentStep]))},fillBg:function(){var e=document.getElementById("gameCanvas"),t=e.getContext("2d",{alpha:!1});t.fillStyle="#000",t.fillRect(0,0,e.width,e.height)},drawFireballs:function(){var e=document.getElementById("gameCanvas"),t=e.width>>1,r=e.height>>1,i=Math.cos(this.orbiterAngle)*this.orbiterRadius+(e.width>>1),a=Math.sin(this.orbiterAngle)*this.orbiterRadius+(e.height>>1);for(var s in this.fireballs){var n=this.fireballs[s];this.distance(n.x,n.y,t,r)<1.25*this.centerRadius?(this.fireballs.splice(s,1),this.score++,this.drawCircle(n.x,n.y,this.fireballWidth+1,"#000"),this.flashCenter()):this.distance(n.x,n.y,i,a)<2*this.orbiterWidth?this.gameOver=!0:(this.drawCircle(n.x,n.y,this.fireballWidth+1,"#000"),n.y-=Math.sin(n.angle)*this.fireballMovement*.1,n.x-=Math.cos(n.angle)*this.fireballMovement*.1,this.drawCircle(n.x,n.y,this.fireballWidth,this.fireballColor))}this.score>=this.levelupScore&&(this.gameOver=!0)},newFireball:function(){var e=document.getElementById("gameCanvas"),t=Math.floor(4*Math.random()),r=Math.floor(Math.random()*(t%2===0?e.height:e.width));0===t?this.fireballs.push({x:r,y:0,angle:Math.atan2(-1*(e.height>>1),r-(e.width>>1))}):1===t?this.fireballs.push({x:e.width,y:r,angle:Math.atan2(r-(e.height>>1),e.width>>1)}):2===t?this.fireballs.push({x:r,y:e.height,angle:Math.atan2(e.height>>1,r-(e.width>>1))}):3===t&&this.fireballs.push({x:0,y:r,angle:Math.atan2(r-(e.height>>1),-1*(e.width>>1))})},levelup:function(){this.score>=this.levelupScore&&(this.level++,this.fireballColor=(new g.a).hex("".concat(this.level,"fire")),this.orbiterColor=(new g.a).hex("".concat(this.level,"orbit")),localStorage.setItem("level",this.level)),this.currentTimeouts.map((function(e){clearTimeout(e)})),this.currentTimeouts=[],this.time=0,this.score=0,this.fireballs=[],this.orbiterAngle=0,this.gameOver=!1,this.orbiterSpeed=.005,this.levelupSteps=[10,20,30,40,50],this.currentStep=0,this.startGame()},startGame:function(){this.started=!0,this.fillBg(),this.drawCenter(),this.drawOrbiter(),this.doOrbit(),this.incTimer(),this.throwFireball()}},mounted:function(){0!==this.level&&(this.fireballColor=(new g.a).hex("".concat(this.level,"fire")),this.orbiterColor=(new g.a).hex("".concat(this.level,"orbit")))}},B=I,F=(r("6c20"),Object(n["a"])(B,m,f,!1,null,"2b14ca05",null)),k=F.exports,W={name:"Home",components:{Game:k}},R=W,A=Object(n["a"])(R,c,d,!1,null,null,null),N=A.exports;i["default"].use(u["a"]);var $=[{path:"/",name:"Home",component:N},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],G=new u["a"]({mode:"history",base:"/ludumdaregame/",routes:$}),L=G;i["default"].config.productionTip=!1,new i["default"]({router:L,render:function(e){return e(h)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var i=r("9c0c"),a=r.n(i);a.a},"6c20":function(e,t,r){"use strict";var i=r("18be"),a=r.n(i);a.a},8807:function(e,t,r){"use strict";var i=r("0fbf"),a=r.n(i);a.a},"9c0c":function(e,t,r){},c8a8:function(e,t,r){"use strict";var i=r("079d"),a=r.n(i);a.a}});
//# sourceMappingURL=app.e78fc576.js.map